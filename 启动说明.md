# 阿斯汤加打卡app - 项目副本

**复制时间**: 2026-01-26
**源路径**: `D:\BaiduSyncdisk\work\cursor app\claude code\XBB-APP\Ashtang_app\`
**当前版本**: 766d03f (包含新用户教程记录系统)

## 快速开始

### 1. 安装依赖
```bash
npm install
```

### 2. 启动开发服务器
```bash
npm run dev
```

### 3. 构建生产版本
```bash
npm run build
npm start
```

## 项目结构

```
ashtang-app/
├── app/                    # Next.js 应用目录
│   ├── practice/          # 练习打卡页面（Tab1-3）
│   ├── globals.css        # 全局样式
│   ├── layout.tsx         # 根布局
│   └── page.tsx           # 首页（落地页）
├── components/            # React 组件
│   └── ui/               # shadcn/ui 组件库
├── hooks/                 # 自定义 React Hooks
│   ├── usePracticeData.ts # 练习数据管理
│   ├── usePWAInstall.ts  # PWA 安装逻辑
│   └── use-toast.ts      # Toast 通知
├── lib/                   # 工具库
│   ├── analytics.ts      # Mixpanel 数据统计
│   ├── database.ts       # Supabase 数据库
│   ├── storage.ts        # 本地存储
│   └── supabase.ts       # Supabase 客户端
├── public/                # 静态资源
│   ├── icon.png          # 应用图标
│   ├── manifest.json     # PWA 配置
│   └── sw.js             # Service Worker
├── package.json           # 项目依赖
├── next.config.mjs        # Next.js 配置
├── tsconfig.json          # TypeScript 配置
└── vercel.json           # Vercel 部署配置
```

## 已复制内容

✅ **已包含**:
- 所有源代码（app/, components/, hooks/, lib/）
- 配置文件（package.json, next.config.mjs, tsconfig.json等）
- 静态资源（public/）
- PWA 配置（manifest.json, sw.js）
- 环境变量示例（.env.example）

❌ **已排除**（减少文件大小）:
- node_modules/ （需要重新 npm install）
- .next/ （构建缓存）
- .git/ （git 仓库）
- runtime-log/ （运行日志）
- screenshots/ （截图）
- 测试数据文件

## 环境变量配置

复制 `.env.example` 为 `.env.local`，填入以下内容：

```env
NEXT_PUBLIC_SUPABASE_URL=你的Supabase项目URL
NEXT_PUBLIC_SUPABASE_ANON_KEY=你的Supabase Anon Key
NEXT_PUBLIC_MIXPANEL_TOKEN=你的Mixpanel Token（可选）
```

## 核心功能

### Tab1 - 练习打卡
- 6种练习类型选择（一序列、二序列、半序列、休息日等）
- 计时功能
- 练习觉察记录
- 突破时刻标记

### Tab2 - 觉察日记
- 练习记录时间线
- 365天练习热力图
- 记录详情查看

### Tab3 - 我的数据
- 用户资料编辑
- 数据导出/导入
- PWA 安装引导
- 练习统计

## 技术栈

- **框架**: Next.js 16 (React 19)
- **样式**: Tailwind CSS
- **UI组件**: shadcn/ui
- **状态管理**: React Hooks + useLocalStorage
- **数据存储**: localStorage (本地) + Supabase (云端)
- **PWA**: Service Worker + Manifest
- **分析**: Mixpanel
- **部署**: Vercel

## Git 仓库

原始仓库地址: https://github.com/jstur225/ashtanga-app

如需 git 管理，可在此目录初始化：
```bash
git init
git add .
git commit -m "Initial commit - 项目副本"
```

## 常见问题

**Q: npm install 很慢？**
A: 使用国内镜像: `npm install --registry=https://registry.npmmirror.com`

**Q: 启动后端口冲突？**
A: 默认端口 3000，如冲突会自动使用 3001、3002...

**Q: 如何查看部署效果？**
A: 访问 https://ash.ashtangalife.online

**Q: 数据存储在哪里？**
A: 优先使用 localStorage，可配置 Supabase 实现云端同步

## 最新更新 (2026-01-26)

- ✅ 添加3条新用户教程记录
- ✅ 修复练习类型显示问题
- ✅ 优化落地页首次访问体验
- ✅ PWA 原生应用封装完成

## 联系方式

- 产品经理: orange
- 开发工具: Claude Code
- 项目理念: 简单到极致
