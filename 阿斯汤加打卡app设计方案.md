# 阿斯汤加打卡app - 页面设计方案

## 设计概述

基于"简单"理念，设计一个极简的阿斯汤加打卡app，核心页面采用**3层结构**：
- 顶部：6个选项按钮（3x2布局，最多可扩展到3x3共9个）
- 中间：开始练习大按钮
- 底部：3个Tab导航（今日练习、觉察日记、我的数据）

---

## ✅ 已确认：Tab1 - 打卡页面（首页）

### 6个默认选项（按序列类型区分）

**第一行**：
1. **一序列 Mysore** - Primary Series 自我练习
2. **一序列口令课** - Primary Series 口令课
3. **二序列 Mysore** - Intermediate Series 自我练习

**第二行**：
4. **二序列口令课** - Intermediate Series 口令课
5. **休息日** - Moon Day / 女生假期
6. **自定义** - 用户自定义输入

### 选项扩展规则

- 默认6个选项（3x2布局）
- 用户可在设置中添加自定义选项
- 最多支持9个选项（3x3布局）
- 超过9个时提示删除部分选项

### 布局设计

```
┌─────────────────────────┐
│      阿斯汤加打卡         │  ← 顶部标题
├─────────────────────────┤
│  [一序列Mysore] [一序口令] [二序Mysore] │
│                         │
│  [二序口令] [休息日] [自定义]         │
│                         │
│                         │
│      [开始练习] 🧘‍♂️      │  ← 中间大按钮
│                         │
├─────────────────────────┤
│  [今日练习] [觉察日记] [我的数据] │  ← 底部Tab
└─────────────────────────┘
```

### 选项按钮状态

**未选中**：
- 白色背景，灰色边框
- 名称为主

**已选中**：
- 绿色背景（主色）
- 白色文字
- 边框加粗

### 自定义按钮逻辑

**点击"自定义"后**：
- 弹出简洁的输入框
- **练习名称**（必填）：例如"半序列"、"核心加强"等
- **练习备注**（选填）：帮助记忆的说明文字
- 点击"确认开始"后，正式进入计时页面

**弹出框布局**：
```
┌─────────────────────────┐
│      自定义练习          │
├─────────────────────────┤
│  练习名称：              │
│  ┌───────────────────┐ │
│  │                   │ │  ← 必填
│  └───────────────────┘ │
│                         │
│  练习备注（选填）：       │
│  ┌───────────────────┐ │
│  │                   │ │  ← 选填
│  └───────────────────┘ │
│                         │
│      ┌─────────┐        │
│      │ 确认开始 │        │
│      └─────────┘        │
└─────────────────────────┘
```

### 开始练习按钮

**默认状态**（未选选项）：灰色，显示"请选择练习类型"

**已选状态**：绿色，显示"开始练习"

---

## ✅ 已确认：计时页面（点击"开始练习"后）

### 视觉结构

- **大圆圈**：圈住所有要素（练习类型、计时、按钮）
- 只保留**一个**大计时显示
- 左右两个按钮：暂停/继续 + 结束

### 练习中状态

```
┌─────────────────────────┐
│      ← 正在练习          │
├─────────────────────────┤
│                         │
│         ⭕ 大圆圈        │  ← 大圆圈圈住所有要素
│                         │
│      一序列 Mysore      │
│                         │
│    ⏱️ 00:15:24          │  ← 只有一个大计时
│                         │
│  ┌──────┐   ┌──────┐   │
│  │ 暂停 │   │ 结束 │   │  ← 左右两个按钮
│  └──────┘   └──────┘   │
│                         │
└─────────────────────────┘
```

### 暂停状态（点击"暂停"后）

```
┌─────────────────────────┐
│      ← 正在练习          │
├─────────────────────────┤
│                         │
│         ⭕ 大圆圈        │
│                         │
│      一序列 Mysore      │
│                         │
│    ⏱️ 00:15:24          │  ← 计时停止
│                         │
│  ┌──────┐   ┌──────┐   │
│  │ 继续 │   │ 结束 │   │  ← "暂停"变成"继续"
│  └──────┘   └──────┘   │
│                         │
└─────────────────────────┘
```

### 按钮逻辑

| 当前状态 | 左按钮 | 右按钮 | 说明        |
| ---- | --- | --- | --------- |
| 练习中  | 暂停  | 结束  | 正常计时      |
| 已暂停  | 继续  | 结束  | 可以继续或提前结束 |

---

## ✅ 已确认：Tab2 - 觉察日记页面

### 页面顶部：日历热力图

- 占页面上部 1/4 到 1/3
- 显示当月日历
- **练习过的日期**：绿色（统一绿色，不分深浅）
- **休息日**：浅绿色（主题色）
- **没练习**：空白
- **今天**：边框高亮

### 页面下部：历史记录列表

**布局结构**：
- **左侧 1/4**：日期 + 练习类型 + 时长（小字）
- **右侧 3/4**：觉察文字 + 照片（主要内容）

**完整布局**：

```
┌─────────────────────────┐
│               [+ 新增]   │  ← 右上角新增按钮
├─────────────────────────┤
│   2026年1月             │
│                         │
│  日一二三四五六          │
│  ┌─────────────────┐   │
│  │▓ ▓ ▓ ▓ ▓        │   │  ← 日历热力图
│  │▓ ▓ ▓ ▓ ▓ ▓ ▓   │   │
│  │▓ ▓ ▓ ▓ ▓ ▓ ▓ ▓  │   │
│  └─────────────────┘   │
├═════════════════════════┤
│ 1月17日 90分钟          │  ← 左侧 1/4
│  一序列Mysore           │
│  ┌───────────────────┐ │
│  │ 今天肩膀终于打开   │ │  ← 右侧 3/4
│  │ 了，后弯进入很     │ │  重点展示觉察
│  │ 顺畅。特别是       │ │
│  │ Marichyasana D    │ │
│  │ 终于绑上了。       │ │
│  │                   │ │
│  │ [照片1] [照片2]    │ │  ← 最多3张
│  └───────────────────┘ │
├─────────────────────────┤
│ 1月16日 75分钟          │
│  一序列Mysore           │
│  ┌───────────────────┐ │
│  │ 今天时间不够，     │ │
│  │ 只练了站姿序列。   │ │
│  │                   │ │
│  │ [照片1]            │ │
│  └───────────────────┘ │
├─────────────────────────┤
│ 1月15日                 │
│  🌙 休息日              │
│  ┌───────────────────┐ │
│  │ Moon Day，满月    │ │
│  │ 休息日。          │ │
│  └───────────────────┘ │
│                         │
│  ...（上滑加载更多）      │
├─────────────────────────┤
│  [今日练习] [觉察日记] [我的数据] │  ← 底部Tab（固定）
└─────────────────────────┘
```

### 新增记录功能

**按钮位置**：右上角

**点击后弹出补录表单**：
- 练习日期（日历选择）
- 练习类型（选项选择，同打卡页面）
- 练习时长（手动输入）
- 觉察文字（可选）
- 照片上传（最多3张）

### 照片限制

- **最多 3 张**（不能再多）
- 符合"简单"理念
- 够用但不会变相册
- 降低存储成本

---

## ✅ 已确认：Tab3 - "我的数据"页面

### 页面布局

```
┌─────────────────────────┐
│                [设置 ⚙️] │  ← 右上角设置
├─────────────────────────┤
│                         │
│      [头像] 80px         │  ← 中头像，居中
│                         │
│      orange            │  ← 用户名
│   阿斯汤加练习 3年        │
│                         │
│  [管理订阅 >]            │  ← 订阅管理
│  ¥xx/月   ¥xx/年         │
│                         │
├═════════════════════════┤
│   2025年练习热力图        │  ← 全年热力图
│                         │
│  1 2 3 4 5 6 7 8 ...   │
│  ▓ ▓ ▓ ▓ ▓ ▓ ▓ ▓       │
│  ▓ ▓ ▓ ▓ ▓ ▓ ▓         │
│  ▓ ▓ ▓ ▓ ▓ ▓ ▓ ▓       │
│  ▓ ▓ ▓ ▓ ▓ ▓ ▓ ▓       │
│  ...                    │
├═════════════════════════┤
│      练习统计            │
│                         │
│  累计练习 123 天         │
│  总时长 185 小时         │
│  平均时长 75 分钟/次     │
│                         │
│  本月练习 12 天          │
│                         │
├─────────────────────────┤
│  [今日练习] [觉察日记] [我的数据] │  ← 底部Tab（固定）
└─────────────────────────┘
```

### 核心要素

1. **用户信息区**（顶部）：
   - 中头像（80px直径，居中）
   - 用户名
   - 副标题（练习年限）
   - 订阅管理按钮（在头像下方）

2. **全年热力图**（中部）：
   - 类似GitHub贡献图
   - 一整年的练习记录
   - 绿色=练习，空白=没练

3. **简化统计**（底部）：
   - 累计天数
   - 总时长
   - 平均时长
   - 本月练习天数
   - **去掉**：连续练习天数、类型分布

### 统计计算规则

**平均时长计算**：
- **分母**：仅统计实际练习的天数（有练习时长的日期）
- **排除休息日**：自动剔除"休息日"标签的日期
- **目的**：确保数据真实反映练习强度，不被休息日拉低平均值

**本月练习定义**：
- **采用自然月逻辑**：统计范围为当月1号至最后一天（如1月1日-1月31日）
- **自动重置**：每月1号凌晨开始新的计数
- **显示内容**：本月累计练习天数

4. **设置入口**：
   - 右上角齿轮图标
   - 不占主要位置

---

## ✅ 已确认：打卡确认页面（点击"结束"后）

### 页面布局

```
┌─────────────────────────┐
│       练习完成          │
├─────────────────────────┤
│  练习类型：一序列Mysore  │
│  练习时长：90分钟         │
│                         │
│  今天感觉怎么样？        │
│  ┌───────────────────┐ │
│  │                   │ │
│  │                   │ │  ← 可选填写觉察文字
│  │                   │ │
│  └───────────────────┘ │
│  （选填）                │
│                         │
│  上传照片？              │
│  ┌────┐ ┌────┐ ┌────┐ │
│  │ +  │ │    │ │    │ │  ← 可选上传，最多3张
│  └────┘ └────┘ └────┘ │
│                         │
│      ┌─────────┐       │
│      │  保存   │       │  ← 只有一个保存按钮
│      └─────────┘       │
└─────────────────────────┘
```

### 核心逻辑

- **必填信息**：练习类型、时长（已自动记录）
- **选填信息**：觉察文字、照片（可留空）
- **点击保存**：
  - 如果填了文字/照片 → 完整保存
  - 如果没填 → 只保存基本信息（类型+时长+日期）
  - **无论如何都会记录今天练了**，不会丢失记录

### 设计理念

- 不需要"取消"按钮（练完了不能取消）
- 即使不填任何内容也会记录练习
- 觉察文字和照片是锦上添花，不是必须

---

## ✅ 已确认：新增记录页面（补录）

### 页面布局

与"打卡确认页面"**相同结构**：

```
┌─────────────────────────┐
│      ← 新增记录          │
├─────────────────────────┤
│  练习日期：[2026-01-15 📅] │  ← 日历选择器
│                         │
│  练习类型：              │
│  [一序列Mysore] [一序口令] [二序Mysore] │
│                         │
│  [二序口令] [休息日] [自定义]         │
│                         │
│  练习时长：[90_____] 分钟   │  ← 手动输入
│                         │
│  今天感觉怎么样？        │
│  ┌───────────────────┐ │
│  │                   │ │
│  │                   │ │  ← 可选填写觉察文字
│  │                   │ │
│  └───────────────────┘ │
│  （选填，最多2000字）     │
│                         │
│  上传照片？              │
│  ┌────┐ ┌────┐ ┌────┐ │
│  │ +  │ │    │ │    │ │  ← 可选上传，最多3张
│  └────┘ └────┘ └────┘ │
│                         │
│      ┌─────────┐       │
│      │  保存   │       │
│      └─────────┘       │
└─────────────────────────┘
```

### 核心规则

- **练习类型选择**：与打卡页面同步的选项按钮（6个默认选项，可扩展到9个）
- **时长限制**：最少1分钟，最多360分钟（6小时）
- **日期选择**：需要日历选择器（支持补录以前的数据）
- **觉察文字**：最多2000字
- **照片限制**：最多3张，单张最大5MB

---

## ✅ 已确认：编辑记录页面

### 页面布局

与"新增记录页面"**完全相同**：

```
┌─────────────────────────┐
│      ← 编辑记录          │
├─────────────────────────┤
│  练习日期：[2026-01-17 📅] │  ← 可修改
│                         │
│  练习类型：              │
│  [一序列Mysore] [一序口令] [二序Mysore] │  ← 可修改
│                         │
│  [二序口令] [休息日] [自定义]         │
│                         │
│  练习时长：[90_____] 分钟   │  ← 可修改
│                         │
│  今天感觉怎么样？        │
│  ┌───────────────────┐ │
│  │ 今天肩膀终于打开... │ │  ← 可修改
│  │                   │ │
│  └───────────────────┘ │
│  （选填，最多2000字）     │
│                         │
│  照片管理                │
│  ┌────┐ ┌────┐ ┌────┐ │
│  │ 📷1│ │ 📷2│ │ +  │ │  ← 可删除/添加
│  └────┘ └────┘ └────┘ │
│                         │
│  ┌─────────┐  ┌─────────┐ │
│  │  保存   │  │  删除   │ │
│  └─────────┘  └─────────┘ │
└─────────────────────────┘
```

### 核心规则

- **允许修改日期**：所有字段都可以修改
- **删除确认**：需要二次确认"确定要删除这条记录吗？"
- **删除不可恢复**：删除后永久删除

---

## ✅ 已确认：设置页面（练习选项管理）

### 页面布局

```
┌─────────────────────────┐
│      ← 设置             │
├─────────────────────────┤
│  练习选项管理            │
│  最少2个，最多9个         │
├─────────────────────────┤
│  选项1：                 │
│  名称：[一序列Mysore__]  │  ← 可编辑
│  说明：[90分钟传统练习__] │  ← 可编辑（Tips/备注）
│  ┌──────────┐           │
│  │    编辑   │           │
│  └──────────┘           │
│                         │
│  选项2：                 │
│  名称：[一序列口令课__]  │
│  说明：[跟随口令练习____] │
│  ┌──────────┐           │
│  │    编辑   │           │
│  └──────────┘           │
│                         │
│  选项3：                 │
│  名称：[二序列Mysore__]  │
│  说明：[中级序列练习____] │
│  ┌──────────┐  ┌──────────┐ │
│  │    编辑   │  │   删除    │ │
│  └──────────┘  └──────────┘ │
│                         │
│  选项6：                 │
│  名称：[自定义________]  │  ← 可以删除
│  说明：[自定义练习类型__] │
│  ┌──────────┐  ┌──────────┐ │
│  │    编辑   │  │   删除    │ │
│  └──────────┘  └──────────┘ │
│                         │
│      ┌─────────┐        │
│      │ 保存设置 │        │
│      └─────────┘        │
└─────────────────────────┘
```

### 核心规则

- **选项数量**：最少2个，最多9个
- **每个选项**：
  - 名称（必填）
  - 说明/备注/Tips（非必填，帮助用户理解）
- **所有选项**：都可以编辑和删除
- **自定义选项**：不固定，可以删除
- **无恢复默认**：不提供恢复默认按钮
- **尊重用户习惯**：用户可以选择只保留2个选项

---

## ✅ 已确认：分享功能

### 功能说明

**v1.0只提供一种分享方式**：生成打卡卡片图片

### 卡片内容

```
┌─────────────────────────┐
│                         │
│      🧘‍♂️ 阿斯汤加打卡     │
│                         │
│  2026年1月17日           │
│  一序列 Mysore · 90分钟  │
│                         │
│  今天肩膀终于打开了，     │
│  后弯进入很顺畅。         │
│  特别是 Marichyasana D   │
│  终于绑上了！             │
│                         │
│  ┌─────────────────────┐│
│  │                     ││
│  │     [练习照片]       ││
│  │                     ││
│  └─────────────────────┘│
│                         │
│  2026年1月练习统计       │
│  ━━━━━━━━━━━━━━━━━━━  │
│  累计练习：12天          │
│  总时长：18小时          │
│  连续练习：7天 🔥        │
│                         │
│  🔥 阿斯汤加打卡         │
└─────────────────────────┘
```

### 卡片包含要素

1. **头部**：
   - App名称 + 图标
   - 打卡日期

2. **本次练习**：
   - 练习类型
   - 时长
   - 觉察文字（截取前100字）
   - 照片（如果有，显示1张）

3. **本月统计**：
   - 累计练习天数
   - 总时长
   - 连续练习天数（如果有）

4. **底部**：
   - App水印/二维码

### 技术实现

- 使用Canvas或html2canvas生成图片
- 图片尺寸：1080x1920（适合朋友圈/小红书）
- 保存到相册，方便用户分享
- **不需要**可分享链接功能

---

## ✅ 已确认：交互流程细节

### 1. 开始练习流程
```
选择练习类型 → 点击"开始练习"
  ↓
立即开始计时（无需倒计时）
  ↓
进入计时页面
```

### 2. 暂停/继续流程
```
练习中：
- 计时：00:15:24（正在计时）
- 按钮：[暂停] [结束]

点击"暂停"：
- 计时：00:15:24（立即停止，保持这个数字）
- 按钮：[继续] [结束]

点击"继续"：
- 计时：00:15:25（从暂停的时间点立即恢复计时）
- 按钮：[暂停] [结束]
```

### 3. 结束练习流程
```
点击"结束"：
- 计时立即停止
- 弹出打卡确认页面（不是跳转）
```

### 4. 保存打卡流程
```
填写觉察/上传照片（可选）→ 点击"保存"
  ↓
直接跳转到历史记录页面
  ↓
用户看到刚才的记录在列表顶部
```
- ❌ 不需要"打卡成功"提示
- ✅ 跳过去就能看到记录，就是最好的确认

### 5. 编辑记录流程
```
在历史记录页面点击某一条记录
  ↓
进入编辑页面
  ↓
所有内容都可以修改：
- 练习类型
- 练习时长
- 觉察文字
- 照片（添加/删除）
```

### 6. 删除记录流程
```
点击"删除"按钮
  ↓
弹出确认对话框："确定要删除这条记录吗？"
  ↓
用户再次确认后删除
```
- ✅ 需要二次确认，防止误删

### 练习类型选择

- **必须选一个**：不支持取消选择
- **选中高亮**：点击后高亮显示
- **默认选中**：上次练习的类型（首次使用默认第一个）

### 来电/切换App

- **计时继续**：不暂停，保持后台计时
- **返回时**：显示准确计时

### 强制关闭App恢复机制

**技术实现**：
1. 每次开始练习，保存"临时练习记录"到本地存储，最多3条
2. 记录内容：开始时间、当前时长、练习类型
3. 下次打开app，检查是否有未完成的临时记录
4. 如果有，弹窗提示：

```
┌─────────────────────────┐
│   发现未完成的练习       │
├─────────────────────────┤
│  上次练习：一序列Mysore  │
│  已练习时长：15分24秒    │
│  练习开始时间：10:30     │
│                         │
│  你想如何继续？          │
│                         │
│  ┌─────────┐  ┌─────────┐│
│  │  继续练习 │  │ 重新开始 ││
│  └─────────┘  └─────────┘│
│                         │
│      ┌─────────┐        │
│      │   取消    │        │
│      └─────────┘        │
└─────────────────────────┘
```

**选项说明**：
- **继续练习**：恢复计时，从暂停的时间点继续
- **重新开始**：删除临时记录，重新选择练习类型
- **取消**：保留临时记录，返回首页

### 历史记录加载

- **不分页**：下拉加载所有记录
- **按时间倒序**：最新的记录在最上面
- **无限滚动**：到底部自动加载更多

---

## ✅ 已确认：UI细节

### 日历热力图配色

| 状态 | 颜色/样式 | 说明 |
|------|----------|------|
| 练习日 | 绿色 ▓ | 统一绿色，不分深浅 |
| 休息日 | 浅绿色 ▒ | 浅的主题色 |
| 未练习 | 空白 | 不显示任何颜色 |
| 今天 | 边框高亮 | 加粗边框 |

### 历史记录卡片

- **文字在上，图片在下**
- **照片可点击放大查看**
- **照片最多3张**，大图展示

---

## 📋 会员功能策略（已确认）

### v1.0（前3个月 - 私密测试期）

**只给orange自己用，不对外开放**：
- ✅ 所有功能
- ✅ 完整云同步
- ❌ **不开放给其他人**

**目的**：
- 自己测试，验证产品是否好用
- 不存在"功能被剥夺"的问题（因为本来就不对外开放）

### v1.5（3个月后 - 公开发布）

**开放给所有人使用**：

**免费用户**：
- ✅ 完整打卡功能
- ✅ 计时、历史记录、统计
- ✅ 生成分享卡片
- ✅ **本地存储**（所有数据存在手机）
- ❌ **无云同步**（从一开始就没有）
- ❌ **无数据导出/导入**

**付费用户 ¥28/年**：
- ✅ **云同步**（所有数据自动同步到云端）
- ✅ **多设备同步**（手机 + 平板）
- ✅ **云端备份**（换手机不丢失数据）
- ✅ 其他所有功能（与免费用户相同）

### 照片限制（所有用户）

- 每次最多3张
- 单张最多5MB
- 超过5MB自动压缩或提示用户

### 暂不实现的功能

⏸️ **v2.0+再考虑**：
- 数据导出/导入
- 暗色模式
- 删除记录恢复
- 年度报告
- 高级统计

### 成本测算

| 用户数 | 付费率 | 月流量 | 月成本 | 年收入 | 年盈亏 |
|--------|--------|--------|--------|--------|--------|
| 100 | 10% | 17GB | ¥11 | ¥280 | +¥148 |
| 500 | 5% | 85GB | ¥55 | ¥700 | +¥645 |
| 1000 | 5% | 170GB | ¥111 | ¥1400 | +¥268 |

**结论**：5%付费率就能盈利，用户越多越赚钱 ✅

---

## 设计风格

### 配色方案

| 颜色  | 用途        |
| --- | --------- |
| 主色  | 打卡按钮、选中状态 |
| 辅助色 | 图标、强调     |
| 背景色 | 页面背景      |
| 卡片色 | 卡片背景      |
| 文字色 | 主要文字      |

### 字体规范

- 标题：20px, 粗体
- 正文：16px, 常规
- 辅助文字：14px, 浅色
- 计时：48px, 等宽字体

### 圆角和阴影

- 按钮：8px圆角
- 卡片：12px圆角
- 阴影：2px模糊，轻微阴影

---

## MVP功能范围

### v1.0包含（本次实现）

- ✅ 打卡页面（6个选项 + 开始按钮）
- ✅ 练习计时页面
- ✅ 打卡确认页面（文字 + 照片）
- ✅ 历史记录页面（时间线）
- ✅ 设置页面（编辑选项）
- ✅ 新增/编辑记录页面
- ✅ 分享功能（生成卡片图片）

### v2.0后续功能

- ⏳ 数据统计页面（图表）
- ⏳ 体式Tag系统
- ⏳ 成就墙
- ⏳ 筛选功能
- ⏳ 数据导出/导入

---

## 技术实现建议

### 前端框架
- **推荐**：React（灵活，易于修改）
- **备选**：Streamlit（快速原型）

### 后端
- **推荐**：Supabase（免费额度够用）
- **功能**：用户认证、数据存储、照片存储

### 部署
- **推荐**：Vercel（免费hobby tier）
- **域名**：ashtanga-tracker.vercel.app

---

## 下一步行动

1. ✅ 确认页面设计方案（已完成）
2. ✅ 讨论会员策略（已完成）
3. 使用v0.dev生成UI原型（3-5天）
4. 使用Claude Code + React开发MVP（1-2周）
5. 内部测试（1周）
6. 小红书发布测试需求

---

**设计原则**：简单 - 专注打卡功能做到极致

**创建时间**：2026-01-17
**更新时间**：2026-01-18
**设计师**：orange + Claude
**版本**：v1.0
